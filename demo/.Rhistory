require(vars)
require(fUnitRoots)
rm(list = ls())
# temp = read.csv("cmdtyNames.csv",header=F,sep=",")  # not working for some reason
cmdty = c("wtiOil","wheat","sugar","soybean","silver","platinum","natGas","liveCattle","leanHogs","gold","cotton","copper","coffee","cocoa")
j=1
data = read.csv(paste("individualCmdty/",cmdty[j],"_aligned.csv",sep=""),header=T,sep=',')
x
pdf(file = "myplot.pdf")
x = rnorm(100)
y = rnorm(100)
plot(x,y)
dev.off()
getwd()
plot(cars)
install.packages('knitr')
install.packages('xtable')
sessionInfo()
getwd()
setwd('Desktop/workspace/extractRnd/demo/')
data = read.csv('sampledata_optionmetrics.csv')
summary(data)
data = data[,c('date','days','ticker','delta','impl_volatility')]
setwd('Desktop/workspace/extractRnd/demo/')
mindate = min(data$date)
mindate
names(data)
subdata = subset(data, (ticker == 'IBM') & (date == min(data$date)))
dim(subdata)
summary(subdata)
subdata = subset(data, (ticker == 'IBM') & (date == min(data$date)) & (days == 30))
dim(subdata)
subdata
clear
cl
names(sudata)
names(subdata)
plot(delta, impl_volatility, data = subdata)
plot(subdata$delta, subdata$impl_volatility)
subdata
plot(subdata$delta)
plot(subdata$impl_volatility)
write.csv('todel.csv',subdata)
write.csv(subdata,'todel.csv')
subdata = subset(data, (ticker == 'IBM') & (date == min(data$date)) & (days == 91))
plot(subdata$delta, subdata$impl_volatility)
write.csv(subdata,'todel.csv')
data = read.csv('sampledata_optionmetrics.csv')
names(data)
data = read.csv('spxSampleData_optionmetrics.csv')
summary(data)
data = data[,c('date','days','ticker','delta','impl_volatility')]   # these variables are relevant
summary(data)
subdata = subset(data, (date == min(data$date)) & (days == 91))
dim(subdata)
plot(subdata$delta, subdata$impl_volatility)
data = read.csv('sampledata_optionmetrics.csv')
subdata = subset(data, (ticker == 'IBM') & (date == min(data$date)) & (days == 91))
write.csv(subdata,'todel.csv')
plot(subdata$impl_strike, subdata$impl_volatility)
names(data)
data = data[,c('date','days','ticker','cp_flag','impl_strike','impl_volatility')]   # these variables are relevant
subdata = subset(data, (ticker == 'IBM') & (date == min(data$date)) & (days == 91))
summary(subdata)
subdata_call = subset(subdata, cp_flag = 'C')
subdata_put = subset(subdata, cp_flag = 'P')
with(subset(subdata, cp_flag = 'C', plot(impl_strike, impl_volatility))
)
with(subset(subdata, cp_flag = 'C'), plot(impl_strike, impl_volatility))
plot()
with(subset(subdata, cp_flag = 'C'), plot(impl_strike, impl_volatility, type='line', col='red'))
with(subset(subdata, cp_flag = 'C'), plot(impl_strike, impl_volatility, col='red'))
plot(subdata_call$impl_strike, subdata_call$impl_volatility, col='red'))
plot(subdata_call$impl_strike, subdata_call$impl_volatility, col='red')
plot(subdata_call$impl_strike, subdata_call$impl_volatility, col='blue')
with(subset(subdata, cp_flag == 'C'), plot(impl_strike, impl_volatility, col='red'))
with(subset(subdata, cp_flag == 'P'), plot(impl_strike, impl_volatility, col='blue'))
with(subset(subdata, cp_flag == 'C'), plot(impl_strike, impl_volatility, col='red'))
with(subset(subdata, cp_flag == 'P'), plot(impl_strike, impl_volatility, col='blue'))
with(subset(subdata, cp_flag == 'P'), points(impl_strike, impl_volatility, col='blue'))
with(subset(subdata, cp_flag == 'C'), plot(impl_strike, impl_volatility, col='red'))
with(subset(subdata, cp_flag == 'P'), points(impl_strike, impl_volatility, col='blue'))
par(xlab = 'implied strike price', ylab='implied volatility')
with(subset(subdata, cp_flag == 'C'), plot(impl_strike, impl_volatility, col='red', xlab = 'implied strike price', ylab='implied volatility', main = 'IBM, 1 quarter ahead'))
with(subset(subdata, cp_flag == 'P'), points(impl_strike, impl_volatility, col='blue'))
legend("topright", pch = 1, col = c("red", "blue"), legend = c("call", "put"))
rm(subdata_call, subdata_put)
temp = read.csv('sampledata_optionmetrics.csv')
summary(temp)
data = read.csv('sampledata_optionmetrics.csv')
data = data[,c('date','days','ticker','cp_flag','impl_strike','delta','impl_volatility')]   #
subdata = subset(data, (ticker == 'IBM') & (date == min(data$date)) & (days == 91))
dim(subdat)
dim(subdata)
x = rep(1, times = 26)
dim(x)
x
subdata$cp_flag
x[subdata$cp_flag=='P'] = -1
x
subdata$delta
delta = x * subdata$delta
strike = subdata$impl_strike
plot(strike, delta)
tempdata = data.frame(strick, delta, cp = subdata$cp_flag)
tempdata = data.frame(strike, delta, cp = subdata$cp_flag)
tempdata
with(tempdata[tempdata$cp == 'C'], plot(strike, delta))
with(tempdata[tempdata$cp == 'C',], plot(strike, delta))
write.csv(tempdata, 'todel2.csv')
summary(subdata)
plot(subdata$impl_strike, subdata$impl_volatility)
